================================

features to implement -- general:

- preference support for filling whole screen with genome when zoomed out (rather thanhaving all chromso in all genomes the same size)
- use hash map of line positions to store int instead of hash of coords, then use int to colour lines according to how many are covered by the same position/line
- visualize paralogs within genomes by drawing arcs back onto the genome itself
- include Sorghum in example dataset and rebuild dataset from scratch, including BLAST hits in both directions, removing duplicates, and removing duff homologs between features that are not listed
- make ALL target chromosomes highlighted (red) again (e.g. in one-to-all comparisons)
- Need handling of homolog directionality. Three modes should be supported: similarity of links by name only, BLAST with directionality of search enforced, and BLAST with directionality not enforced. Use color coding where BLAST hit is not reciprocal to indicate reduced confidence in homology (enforced directionality mode only). Put a user choice of these 3 modes into a prefs dialog. 
- dynamically determine suitable number of distance markers to display depending on the zoom level
- show loci as filled rectangles rather than lines at higher zoom levels
- colour selector for user 
- x-y plots of marker positions in both genomes (Oxford grid/dot plot) for a given combination of chromosomes
- log scale zoom sliders to increase zoom range

================================

QTL support:

- need option for reading in QTL data
- option to show homologies only that fall within a given QTL
- need option (dialog?) for user defining new QTL manually
- mouseover on QTL displays tool tip with info about the QTL

================================

Data:

- have annotation data for reference genome (e.g. rice) kept locally for fast access but perhaps include some kind of option for updating this if possible (manually? automatically?)


================================

Dave's list:

- potentials:
	* include in raw data putative homologs e.g. for rice loci in barley and flag every entry in the data as mapped or putative; then display these in the mapviewer, perhaps in different colours based on the value of the flag
	* include all reference genome features and their annotation in the feature range results table (but not on the canvas)
	* auto-arrange function for inverting all features on a chromosome in the same order as its homologs on another chromosome (or manual or combination of both?)
- svg/ps/pdf export
- differential colouring of links e.g. by BLAST hit order



================================


Luke Ramsay's list (in descending order of priority):

- show centromere positions
- flip portions of chromosomes
- highlight conflicts in conserved synteny, i.e. cases where the ordering of features differs between genomes
- selective highlighting of region of interest by a) Photoshop-style pan-and-zoom and b) pan and select at same zoom level to display only markers and labels in selected region
- filter link display by clicking
- highlight gaps in reference genome sequence (i.e. regions for which there is no physical map)
- move markers manually in GUI, at least in target genome
- parallel homology systems, based on e.g. blastn vs blastx, user chooses which one to see


================================

Jordi's list: 

- different line colors for the best BLAST hit, second best hit, third best hit… 
- plot QTL profiles along the barley chromosomes
- select an interval on the rice / brachypodium side and get a list with all the genes located within the interval -- DONE

================================

List from genetics barley users' meeting:

Ability to flip chromosomes and parts of chromosomes/regions  - Luke.
Show annotation for both target and ref  - Linda.
Ability to move markers around. - Luke
Save project files including current state – Luke
Menu bar support for new/infrequent users – Robbie


================================

REFACTORING:

- check whether any features are drawn offscreen (= unnecessarily)
- ControlToolBar createControls(): action config code is repetitive, hive off into convenience method
- maincanvas paintCanvas(): drawlinks before genomes
- maincanvas paintcomponent: backbuffer drawing of distance markers
- GChromoMap paintMap(): looks like lots of code here does only need to be run once rather than at every repaint (e.g. colours etc)
- GChromoMap  drawLinkedFeatures is drawing linked features whether they are on screen or not


================================


BUGS to fix:

- list of recent files can end up including same file over and over again
- unnecessary repaints when doing mouseover on chromosome and features are not actually showing
- unnecessary repaints when mouseover on checkbox areas in result control panel
- entering into the selectable area of either of the two checkboxes on the results control panel triggers a change event even if there are no mouse clicks, despite there not being a mouselistener registered on the component
- mouseover label display of feature name not working for features that are at position 0 on chromosome (reproduce with mini.strudel)
 
- when display markers is selected, some (scaled) chromos in a genome may end up having them displayed, others don's -> looks odd
- nullPointerException when data is loaded on top of an existing set
- leftover highlighted links display when flicking through results table
- features at position 0 on map are not drawn when map is fully inverted
- on window resize chromosomes are not being redrawn at appropriate sizes
- can't scroll to end of first chromosomes -- reproduce with mini.strudel


