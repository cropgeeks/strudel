<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>
	<head>
		<meta http-equiv="Content-Language" content="en-gb">
		<meta http-equiv="content-type" content="text/html; charset=utf-8">

		<link rel="stylesheet" href="stylesheet/styles.css" type="text/css">

		<title>Manual</title>

	</head>
	<body>

		<!--#include virtual="header.html" -->


		<h2>
			Manual
		</h2>

		<h3>
			Instructions for use
			<a name="top"> </a>
		</h3>

		<p>
			Topics:
			<br>
			<a href="#mouseControls">Mouse controls</a>
			<br>
			<a href="#openingFiles">Opening files</a>
			<br>
			<a href="#dataFormat">Input data format</a>
			<br>
			<a href="#exampleData">Example data</a>
			<br>
			<a href="#exportView">Exporting the current view as an image</a>
			<br>
			<a href="#overview">Using the overview window</a>
			<br>
			<a href="#distanceMarkers">Distance markers</a>
			<br>
			<a href="#linkShapes">Changing the shape of the homology links</a>
			<br>
			<a href="#antialiasing">Turning antialiased drawing on and off</a>
			<br>
			<a href="#filterByVis">Filtering of links by visibility of features</a>
			<br>
			<a href="#findFeatures">Finding one or more features by their name</a>
			<br>
			<a href="#exploreRange">Discovering features in a given range on a chromosome</a>
			<br>
			<a href="#addFeatures">Adding features from a user defined region into the results table</a>
			<br>
			<a href="#resetButtons">Reset buttons</a>
			<br>
			<a href="#filterByEvalue">Filtering homology links by BLAST e-value</a>
			<br>
			<a href="#invertChromos">Inverting chromosomes</a>
			<br>
			<a href="#featureLabelDisplay">Manual override of feature and label display</a>
			<br>

		</p>

		<!-- --------------------------------------------- -->
		<h4>
			Mouse controls:
			<a name="mouseControls"></a>
		</h4>

		<table class="outline" cellpadding="5">

			<tr>
				<td class="outline">
					Single-click chromosome
				</td>
				<td class="outline">
					Display all the homologies of this chromosome
				</td>
			</tr>

			<tr>
				<td class="outline">
					Single-click background
				</td>
				<td class="outline">
					Hide all links
				</td>
			</tr>

			<tr>
				<td class="outline">
					Single-click chromosome with Alt down
				</td>
				<td class="outline">
					Expand chromosome to fill the screen vertically
				</td>
			</tr>

			<tr>
				<td class="outline">
					Mouse drag with Shift down, then release
				</td>
				<td class="outline">
					Zoom in on region outlined by panning
				</td>
			</tr>

			<tr>
				<td class="outline">
					Single-click chromosome with Ctrl down
				</td>
				<td class="outline">
					Select this chromosome for link display (links -- if applicable -- show when two or more chromosomes selected)
				</td>
			</tr>

			<tr>
				<td class="outline">
					Mouse drag on or next to chromosome
				</td>
				<td class="outline">
					Move canvas up or down (slow)
				</td>
			</tr>

			<tr>
				<td class="outline">
					Scroll wheel
				</td>
				<td class="outline">
					Move canvas up or down (fast)
				</td>
			</tr>

			<tr>
				<td class="outline">
					Mouse over feature on chromosome
				</td>
				<td class="outline">
					Display names of features mapped to this location
				</td>
			</tr>

		</table>


		<br>
		<a href="#top">Back to top</a>


		<!-- --------------------------------------------- -->
		<h4>
			Opening files:
			<a name="openingFiles"></a>
		</h4>
		Click the data load
		<img src="images/fileopen.png">
		button on the toolbar. Either accept the default option (which loads the example data) or specify your file locations
		and – if appropriate -- annotation URLs (see below), then click the “Load data” button in the dialog. See section on
		<a href="#dataFormat">input data format</a> below on how to format your data.
		<br>
		<a href="#top">Back to top</a>

		<!-- --------------------------------------------- -->
		<h4>
			Input data format:
			<a name="dataFormat"></a>
		</h4>
		Users can currently only provide their own data in tab delimited text files. We are planning to have future extensions
		that allow import of data from live databases and other data sources as requested by users.
		<p>
			For each genome imported Strudel requires a file with genome feature data in the following column order (headers can
			have any name, data type in [ ]):
			<br />
			<br />
			<i>chromosome name[text] | feature name[text] | feature start position[numerical] | aliases[text] |
				annotation[text]</i>
			<br />
			<br />
			For each comparison between genomes Strudel requires a file with homology data in the following column order (headers
			can have any name, data type in [ ]):
			<br />
			<br />
			<i>target feature name[text] | reference feature name[text] | BLAST e-value[numerical] |
				description/comments[text]</i>
			<br />
			<br />
			In the Load Data dialog shown below, click on "Load own data files" and then browse for the appropriate files as
			required. The target genome is the genome of interest we want to explore, the reference genomes contain the
			comparative data. Users can supply one, two or three genome data files. When Strudel is run in single genome mode
			comparative data is obviously not required.
		<p>
			<img class="capture" src="images/dataLoadDialog.png" alt="Load Data Dialog">
		<p>
			Optionally, users can also specify a reference URL for each of the genomes loaded. This URL must be in a format that
			allows the application to append a feature's name, e.g. "http://myannotationsite.ac.uk/search?featurename=". There is
			a separate URL field for each of the genomes. When the URL has been correctly specified, users can then click on a
			feature name in the results table and this will start up the default web browser and open a page with annotation for
			the feature in question.
			<br>
			<a href="#top">Back to top</a>


			<!-- --------------------------------------------- -->
		<h4>
			Example data:
			<a name="exampleData"></a>
		</h4>
		An example data set is also provided with Strudel. This can be loaded by clicking the "Load Data" button on the
		toolbar, and then accepting the default option on the Load Data dialog. Currently this consists of a comparison of the
		genomes of
		<i>Brachypodium distachyon</i>, barley (
		<i>Hordeum vulgare</i>) and rice (
		<i>Oryza sativa</i>). Click the info button
		<img src="images/info.png">
		on the toolbar, then the "Example Data Sets" tab to see more detail.
		<br>
		<a href="#top">Back to top</a>



		<!-- --------------------------------------------- -->
		<h4>
			Exporting the current view as an image:
			<a name="exportView"></a>
		</h4>
		Click on the export image
		<img src="images/exportimage.png">
		button on the toolbar and a save image dialog will appear. Choose a file name and location and click the Save button
		in the dialog.
		<br>
		<a href="#top">Back to top</a>

		<!-- --------------------------------------------- -->
		<h4>
			Using the overview window:
			<a name="overview"></a>
		</h4>
		Click the overview button
		<img src="images/overview.png">
		on the toolbar (this is a toggle button which shows/hides the overview). A separate window with a miniature version of
		the main canvas will appear. When one or more of the genomes are zoomed in, a slightly opaque red rectangle will be
		visible on top of the corresponding genome in the overview window and this can be moved up and down with the mouse to
		move the genome on the main canvas up and down. It also lets the user see at a glance which chromosome of the genome
		is currently showing on the main canvas.
		<br>
		<a href="#top">Back to top</a>

		<!-- --------------------------------------------- -->
		<h4>
			Distance markers:
			<a name="distanceMarkers"></a>
		</h4>
		The distance markers button
		<img src="images/distancemarkers.png">
		toggles distance markers on the chromosomes on and off (for all genomes). Please note that even when these are toggled
		to ‘on’ they will only show when a zoom level has been reached where a chromosome just fills the screen.
		<br>
		<a href="#top">Back to top</a>

		<!-- --------------------------------------------- -->
		<h4>
			Changing the shape of the homology links:
			<a name="linkShapes"></a>
		</h4>
		The links shape button
		<img src="images/curves.png">
		lets the user toggle between curved, straight and angled link shapes (in ascending, then descending order).
		<br>
		<a href="#top">Back to top</a>


		<!-- --------------------------------------------- -->
		<h4>
			Turning antialiased drawing on and off
			<a name="antialiasing"></a>
		</h4>
		Links can be drawn either with or without antialiasing. Antialiased links look cleaner and smoother and in some cases
		things might be more visible. There is however a significant performance overhead to antialiased drawing and for this
		reason the default setting is for antialiasing to be switched off by the application itself during animations or
		scrolling, with an antialiased redraw being performed after the operation. Users can override this and turn
		antialiasing off completely -- which results in better drawing performance – by toggling the antialias button
		<img src="images/antialias.png">
		on the toolbar on and off.
		<br>
		<a href="#top">Back to top</a>

		<!-- --------------------------------------------- -->
		<h4>
			Filtering of links by visibility of features
			<a name="filterByVis"></a>
		</h4>
		To reduce the number of links shown users can choose to only view those links whose features are both visible on the
		canvas. This is controlled by the link filter button
		<img src="images/linkfilter.png">
		on the toolbar which toggles this filter on and off.
		<br>
		<a href="#top">Back to top</a>

		<!-- --------------------------------------------- -->
		<h4>
			Finding one or more features by their name:
			<a name="findFeatures"></a>
		</h4>
		Click on the find features button
		<img src="images/find.png">
		on the toolbar. Enter one or more feature names (one per line) and click the “Find” button in the dialog. A table with
		features found will display at the bottom of the screen. Click rows in the table to display the features on the
		canvas.
		<br>
		<a href="#top">Back to top</a>

		<!-- --------------------------------------------- -->
		<h4>
			Discovering features in a given range on a chromosome:
			<a name="exploreRange"></a>
		</h4>
		Click on the range button
		<img src="images/range.png">
		on the toolbar. A dialog will appear where you can specify a genome, chromosome and range end points for a range you
		want to explore. Click the “find” button in the dialog and a results table will appear at the bottom of the window.
		Click rows in the table to display the features on the canvas.
		<p>
			You can filter the results in the list by genome by using the drop-down menu in the results table’s control panel at
			the bottom left. You can also click the checkboxes to display labels and links for the features in the range.
			Clicking on the feature name hyperlinks will bring up a web browser with annotation information if a target URL was
			specified at in the load data dialog for the genome in question. The feature name is appended to the URL and a web
			browser will open with the corresponding page loaded. Sort the table by clicking on one header at a time.
		<p>
			Results tables from this procedure and the find features by name procedure can be saved to a tab delimited text file
			by clicking the save
			<img src="images/save.png">
			button on the toolbar, which opens a file save dialog.
			<br>
			<a href="#top">Back to top</a>

			<!-- --------------------------------------------- -->
		<h4>
			Adding features from a user defined region into the results table:
			<a name="addFeatures"></a>
		</h4>
		Users can also insert additional features from a reference genome into the results table. This is done by holding down
		Ctrl and Shift together and left-clicking and dragging down next to a chromosome. This draws a slightly opaque box
		around the region of interest. Right-click within the selected area and select “Add features in range to results” from
		the context menu that appears. This will add all available features in the range (not just those with homologs) to the
		results table which can then be filtered, sorted and explored as required. Please note that there is currently no
		support for drawing all of the additional features on the canvas simultaneously – with very dense maps this would make
		the display all but unusable.
		<br>
		<a href="#top">Back to top</a>

		<!-- --------------------------------------------- -->
		<h4>
			Reset buttons:
			<a name="resetButtons"></a>
		</h4>
		The main reset button on the toolbar
		<img src="images/reset.png">
		resets the zoom factor for all genomes to a value of 1 and restores the original view as seen after loading the data
		(i.e. without any links or results showing). The individual reset buttons next to the zoom sliders below the main
		canvas reset the zoom only without removing results or links, and only do so for one genome at a time.
		<br>
		<a href="#top">Back to top</a>


		<!-- --------------------------------------------- -->
		<h4>
			Filtering homology links by BLAST e-value:
			<a name="filterByEvalue"></a>
		</h4>
		Using the BLAST cut-off spinner on the toolbar, users can set a threshold for the BLAST e-value for homologies above
		which they will not be shown. Links will be filtered synchronously as the spinner value is changed with the up and
		down arrows or by entering a new value and pressing Enter.
		<br>
		<a href="#top">Back to top</a>



		<!-- --------------------------------------------- -->
		<h4>
			Inverting chromosomes:
			<a name="invertChromos"></a>
		</h4>
		In cases where there are large scale inversions, inverting a chromosome can be useful for providing a better view of
		the synteny between a pair of chromosomes. To do this, right-click over the chromosome (with or without links
		selected) and choose “Invert chromosome” from the context menu.
		<br>
		<a href="#top">Back to top</a>


		<!-- --------------------------------------------- -->
		<h4>
			Manual override of feature and label display:
			<a name="featureLabelDisplay"></a>
		</h4>
		In order to control clutter on screen Strudel automatically controls when it displays features and feature labels.
		This behaviour can be overridden by the user with the help of controls that are specific to each genome. These are
		found next to the zoom controls at the bottom of the main canvas and, when selected, force the permanent display of
		features
		<img src="images/showmarkers.png">
		and labels
		<img src="images/showlabels.png">
		respectively.
		<br>
		<a href="#top">Back to top</a>


		<!--#include virtual="footer.html" -->

	</body>
</html>